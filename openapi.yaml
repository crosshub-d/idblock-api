openapi: 3.0.0
paths:
  /api/v1/auth/login:
    post:
      operationId: AuthController_login
      summary: 로그인
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginDto'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiDataResponse'
                  - properties:
                      data:
                        $ref: '#/components/schemas/LoginResponse'
        '400':
          description: ''
          content:
            application/json:
              example:
                message: INVALID_LOGIN_DATA
      tags:
        - 인증
  /api/v1/auth/logout:
    delete:
      operationId: AuthController_logout
      summary: 로그아웃
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - 인증
      security:
        - bearer: []
  /api/v1/auth/verify-email/request:
    post:
      operationId: AuthController_requestEmailVerification
      summary: 이메일 인증 요청
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestEmailVerificationDto'
      responses:
        '201':
          description: ''
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiDataResponse'
                  - properties:
                      data:
                        $ref: '#/components/schemas/EmailVerificationRequest'
        '400':
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/AlreadyUserDto'
      tags:
        - 인증
  /api/v1/auth/verify-email/confirm:
    post:
      operationId: AuthController_confirmEmailVerification
      summary: 이메일 인증 확인
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConfirmEmailVerificationDto'
      responses:
        '201':
          description: ''
          content:
            application/json:
              example:
                id: '55'
                email: pablo@buttersoft.io
                uuid: e2cf6839-121d-4108-8c8e-1000e484935f
                createdAt: '2024-11-25T02:58:39.632Z'
                code: '643601'
                isVerified: true
      tags:
        - 인증
  /api/v1/auth/delete-email-verification:
    post:
      operationId: AuthController_deleteEmailVerification
      summary: 이메일 인증 삭제
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteEmailVerificationDto'
      responses:
        '201':
          description: ''
      tags:
        - 인증
  /api/v1/auth/sign-up/verify-step1:
    post:
      operationId: AuthController_signupVerifyStep1
      summary: 회원가입 단계1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Step1VerificationDto'
      responses:
        '400':
          description: ''
          content:
            application/json:
              example:
                message: ALREADY_USED_PASSPORT_NUMBER
      tags:
        - 인증
  /api/v1/auth/sign-up/simple:
    post:
      operationId: AuthController_signupSimple
      summary: 이메일로 가입
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SignupSimpleDto'
      responses:
        '400':
          description: ''
          content:
            application/json:
              example:
                message: ALREADY_USED_EMAIL
      tags:
        - 인증
  /api/v1/auth/sign-up:
    post:
      operationId: AuthController_signup
      summary: 회원가입
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SignUpDto'
      responses:
        '400':
          description: ''
          content:
            application/json:
              example:
                message: ALREADY_USED_EMAIL
      tags:
        - 인증
  /api/v1/auth/upload/passport-recognition:
    post:
      operationId: AuthController_uploadPassportRecognition
      summary: 여권 인식
      parameters: []
      requestBody:
        required: true
        description: 파일 업로드
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/FileUploadDto'
      responses:
        '201':
          description: ''
      tags:
        - 인증
  /api/v1/auth/upload/passport-image:
    post:
      operationId: AuthController_uploadPassport
      summary: 여권 업로드
      parameters: []
      requestBody:
        required: true
        description: 파일 업로드
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/FileUploadDto'
      responses:
        '201':
          description: ''
      tags:
        - 인증
  /api/v1/auth/upload/profile-image:
    post:
      operationId: AuthController_uploadProfile
      summary: 프로필 이미지 업로드
      parameters: []
      requestBody:
        required: true
        description: 파일 업로드
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/FileUploadDto'
      responses:
        '201':
          description: ''
      tags:
        - 인증
  /api/v1/auth/profile:
    get:
      operationId: AuthController_getProfile
      summary: 프로필 조회
      parameters: []
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                data:
                  data:
                    id: '15'
                    email: hkchae@buttersoft.io
                    name: 홍길동
                    city:
                      id: '1835848'
                      name: Seoul
                      country: South Korea
                      coutryCode: KR
                    status: APPROVED
                    profileImage: >-
                      https://crosshub-dev.s3.ap-northeast-2.amazonaws.com/private/profile/6d60d03bb9497e4478d33d1ba40d8e285beaada2a2e39f4388194fbb866d6662?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAQSOI4XGLZ75CLB7P%2F20241125%2Fap-northeast-2%2Fs3%2Faws4_request&X-Amz-Date=20241125T031304Z&X-Amz-Expires=900&X-Amz-Signature=05fb857095296436e35887b2ad5ba1f3ddd5add54d5da2cea48ca037a8334f43&X-Amz-SignedHeaders=host&x-id=GetObject
      tags:
        - 인증
      security:
        - bearer: []
  /api/v1/auth/information:
    put:
      operationId: AuthController_updateInformation
      summary: 정보 수정
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateInfoDto'
      responses:
        '400':
          description: ''
          content:
            application/json:
              example:
                message: ALREADY_USED_EMAIL
      tags:
        - 인증
      security:
        - bearer: []
  /api/v1/auth/change-password:
    put:
      operationId: AuthController_changePassword
      summary: 비밀번호 변경 (로그인 사용자)
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangePasswordDto'
      responses:
        '400':
          description: ''
          content:
            application/json:
              example:
                message: INVALID_LOGIN_DATA
      tags:
        - 인증
      security:
        - bearer: []
  /api/v1/auth/delete-user:
    post:
      operationId: AuthController_deleteUser
      summary: 회원 삭제
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteUserDto'
      responses:
        '201':
          description: ''
      tags:
        - 인증
  /api/v1/auth/qr-code:
    get:
      operationId: AuthController_getQrCode
      summary: QR 코드 조회
      parameters: []
      responses:
        default:
          description: ''
          content:
            application/json:
              example:
                data: >-
                  data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAACECAYAAABRRIOnAAAAAklEQVR4AewaftIAAAOiSURBVO3BQY5bCRYDweSD7n/lHC96wdUHBKncbQ8j4i/M/OOYKcdMOWbKMVOOmXLMlGOmHDPlmCnHTDlmyjFTjplyzJRjprz4UBJ+J5UnSXii0pLwCZUnSfidVD5xzJRjphwz5cWXqXxTEj6h0pLQVFoS3pGEpvJE5ZuS8E3HTDlmyjFTXvywJLxD5R1JaCpPVFoSnqi0JDSVTyThHSo/6Zgpx0w5ZsqLv1wSnqg8ScL/k2OmHDPlmCkv/jJJaCotCS0JTaWptCS0JDSVP9kxU46ZcsyUFz9M5d+UhCcq71D5JpX/kmOmHDPlmCkvviwJ/yaVloSm0pLQVFoSmkpLQlN5koT/smOmHDPlmCkvPqTyX5KEptKS8Dup/EmOmXLMlGOmxF/4QBKaSkvCN6m8IwlN5XdKwjep/KRjphwz5ZgpLz6k8gmVloSm8iQJTaWptCQ0lZaEd6i0JDSVb0pCU/mmY6YcM+WYKS++LAlPVJ6otCQ8UXmShJ+UhKbyjiQ0lXckoal84pgpx0w5Zkr8hQ8koak8ScI7VFoSPqHSkvBEpSXhicqf7Jgpx0w5Zkr8hS9KwhOVJ0l4ovKOJLxDpSWhqbQkNJWWhKbSktBUWhKaSktCU/nEMVOOmXLMlBcfSsITlSdJeKLyJAlN5YnKO1Q+ofJEpSWhqTxR+aZjphwz5ZgpL75MpSWhqTxRaUloKu9QaUl4ovIkCU3lSRKayhOVloSm0pLQVD5xzJRjphwz5cUPU2lJaCpPVH6SypMkNJV3qLQkNJUnKi0JTeWbjplyzJRjprz4YUn4RBKaSlNpSWgqn1BpSfimJLxD5ScdM+WYKcdMib/wB0tCU2lJaCotCd+k8o4kNJUnSWgq33TMlGOmHDPlxYeS8DupNJVPqLQkPFFpSXiShKbyTUloKp84ZsoxU46Z8uLLVL4pCU+S0FSaypMkPFFpSXiHyk9S+aZjphwz5ZgpL35YEt6h8okkPFF5otKS8I4kfFMSfqdjphwz5ZgpL/5yKk9Unqh8IglNpSWhJaGpPElCU/nEMVOOmXLMlBd/uSS8Q+UTSWgqLQlNpSWhJaGp/KRjphwz5ZgpL36Yyk9SaUloKi0JTeVJEppKS0JTaUl4h8q/6Zgpx0w5ZsqLL0vC75SEpvJNKi0JTaUl4YlKS8ITlZaEn3TMlGOmHDMl/sLMP46ZcsyUY6YcM+WYKcdMOWbKMVOOmXLMlGOmHDPlmCnHTDlmyv8Asxu/4vJPDAAAAAAASUVORK5CYII=
      tags:
        - 인증
      security:
        - bearer: []
  /api/v1/auth/reset-password/request:
    post:
      operationId: AuthController_requestResetPassword
      summary: 비밀번호 재설정 코드 이메일 발송
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestEmailVerificationDto'
      responses:
        '201':
          description: ''
      tags:
        - 인증
  /api/v1/auth/reset-password/confirm:
    post:
      operationId: AuthController_confirmResetPassword
      summary: 비밀번호 재설정 코드 입력
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConfirmEmailVerificationDto'
      responses:
        '201':
          description: ''
      tags:
        - 인증
  /api/v1/auth/reset-password:
    post:
      operationId: AuthController_resetPassword
      summary: 비밀번호 재설정
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPaswordDto'
      responses:
        '201':
          description: ''
      tags:
        - 인증
  /api/v1/auth/country/{code3}:
    get:
      operationId: AuthController_getUserCountry
      summary: 사용자 국가 조회
      parameters:
        - name: code3
          required: true
          in: path
          description: 국가 코드
          schema:
            title: 국가 코드
            example: KOR
            type: string
      responses:
        '200':
          description: ''
      tags:
        - 인증
  /api/v1/auth/city/{countryCode}:
    get:
      operationId: AuthController_getUserCity
      summary: 사용자 도시 조회
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - 인증
  /api/v1/auth/refresh-token:
    post:
      operationId: AuthController_refreshToken
      summary: Refresh Token
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshTokenDto'
      responses:
        '201':
          description: ''
      tags:
        - 인증
  /api/v1/auth/pin-setup:
    post:
      operationId: AuthController_pinSetup
      summary: PIN 설정
      parameters: []
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                result: PIN_SETUP_SUCCESS
                message: PIN이 성공적으로 설정되었습니다.
      tags:
        - 인증
      security:
        - bearer: []
  /api/v1/auth/passport-info:
    delete:
      operationId: AuthController_deletePassportInfo
      summary: 여권 정보 삭제
      parameters: []
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                result: PASSPORT_INFO_DELETED
                message: 여권 정보가 성공적으로 삭제되었습니다.
      tags:
        - 인증
      security:
        - bearer: []
  /api/v1/notification:
    get:
      operationId: NotificationController_getNotification
      summary: 알림 목록 조회
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - 알림
      security:
        - bearer: []
  /api/v1/notification/fcm:
    post:
      operationId: NotificationController_sendFcmToken
      summary: FCM token 전송
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FcmTokenUpdateDto'
      responses:
        '201':
          description: ''
      tags:
        - 알림
      security:
        - bearer: []
  /api/v1/notification/me/all:
    delete:
      operationId: NotificationController_deleteAllMine
      summary: 내 모든 알림 삭제
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - 알림
      security:
        - bearer: []
  /api/v1/notification/{notificationId}:
    delete:
      operationId: NotificationController_deleteOne
      summary: 특정 알림 삭제 (본인 소유만)
      parameters:
        - name: notificationId
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - 알림
      security:
        - bearer: []
  /api/v1/common/country:
    get:
      operationId: CommonController_getCountryList
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - 공통
  /api/v1/common/city:
    get:
      operationId: CommonController_getCityList
      parameters:
        - name: countryCode
          required: true
          in: query
          description: 국가 코드
          schema:
            title: 국가 코드
            example: KR
            type: string
      responses:
        '200':
          description: ''
      tags:
        - 공통
  /api/v1/common/term-of-service:
    get:
      operationId: CommonController_getTermOfService
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - 공통
  /api/v1/common/html/term-of-service:
    get:
      operationId: CommonController_getTermOfServiceHtml
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - 공통
  /api/v1/common/privacy-policy:
    get:
      operationId: CommonController_getPrivacyPolicy
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - 공통
  /api/v1/common/html/privacy-policy:
    get:
      operationId: CommonController_getPrivacyPolicyHtml
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - 공통
  /api/v1/common/versions:
    get:
      operationId: CommonController_getVersions
      parameters:
        - name: deviceType
          required: true
          in: query
          schema:
            title: Device OS
            type: string
      responses:
        '200':
          description: ''
      tags:
        - 공통
  /api/v1/device/register:
    post:
      operationId: DeviceController_registerDevice
      summary: 디바이스 등록 또는 업데이트
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterDeviceDto'
      responses:
        '201':
          description: ''
      tags:
        - Device
  /api/v1/device/list:
    get:
      operationId: DeviceController_getAllDevices
      summary: 모든 디바이스 목록 조회
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - Device
  /api/v1/device/{deviceId}:
    get:
      operationId: DeviceController_getDevice
      summary: 특정 디바이스 조회
      parameters:
        - name: deviceId
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - Device
  /api/v1/device/{deviceId}/deactivate:
    patch:
      operationId: DeviceController_deactivateDevice
      summary: 디바이스 비활성화
      parameters:
        - name: deviceId
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - Device
info:
  title: Crosshub API
  description: Crosshub API
  version: '1.0'
  contact: {}
tags: []
servers:
  - url: https://api.crosshub.id
    description: Production
  - url: http://localhost:8989
    description: Local Development
components:
  securitySchemes:
    cookie:
      type: apiKey
      in: cookie
      name: access_token
    bearer:
      scheme: bearer
      bearerFormat: JWT
      type: http
  schemas:
    LoginResponse:
      type: object
      properties:
        accessToken:
          type: string
          title: 액세스 토큰
          description: 액세스 토큰
          example: eyJhbGci
        refreshToken:
          type: string
          title: 리프레시 토큰
          description: 리프레시 토큰
          example: eyJhbGci
      required:
        - accessToken
        - refreshToken
    EmailVerificationRequest:
      type: object
      properties:
        email:
          type: string
          title: 이메일
          description: 이메일
          example: test@email.com
        uuid:
          type: string
          title: UUID
          description: UUID
          example: 123e4567-e89b-12d3-a456-426614174000
        createdAt:
          format: date-time
          type: string
          title: 생성일
          description: 생성일
          example: '2023-10-01T12:34:56.789Z'
      required:
        - email
        - uuid
        - createdAt
    AlreadyUserDto:
      type: object
      properties:
        message:
          type: string
          example: 이미 가입된 이메일입니다.
      required:
        - message
    LoginDto:
      type: object
      properties:
        email:
          type: string
          title: 이메일
          description: 이메일
          example: hkchae@buttersoft.io
        password:
          type: string
          title: 비밀번호
          description: 비밀번호
          example: '12345678'
      required:
        - email
        - password
    RequestEmailVerificationDto:
      type: object
      properties:
        email:
          type: string
          title: 이메일
          description: 이메일
          example: hkchae@buttersoft.io
      required:
        - email
    ConfirmEmailVerificationDto:
      type: object
      properties:
        email:
          type: string
          title: 이메일
          description: 이메일
          example: hkchae@buttersoft.io
        code:
          type: string
          title: 인증 코드
          description: 인증 코드
          example: '123456'
        uuid:
          type: string
          title: UUID
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440000
      required:
        - email
        - code
        - uuid
    DeleteEmailVerificationDto:
      type: object
      properties:
        email:
          type: string
          title: 이메일
          description: 이메일
          example: hkchae@buttersoft.io
      required:
        - email
    Step1VerificationDto:
      type: object
      properties:
        email:
          type: string
          title: 이메일
          description: 이메일
          example: heuristic2022@gmail.com
        birthday:
          type: string
          title: 생년월일
          description: 생년월일
          example: '19900101'
        passportNumber:
          type: string
          title: 여권 번호
          description: 여권 번호
          example: '12345678'
      required:
        - email
        - birthday
        - passportNumber
    SignupSimpleDto:
      type: object
      properties:
        email:
          type: string
          title: 이메일
          description: 이메일
          example: heuristic2022@gmail.com
        password:
          type: string
          title: 비밀번호
          description: 비밀번호
          example: '12345678'
        isTestAccount:
          type: boolean
          title: 테스트 계정 여부
          description: '테스트 계정인지 여부 (기본값: false)'
          example: true
      required:
        - email
        - password
    SignUpDto:
      type: object
      properties:
        email:
          type: string
          title: 이메일
          description: 이메일
          example: heuristic2022@gmail.com
        name:
          type: string
          title: 이름
          description: 이름
          example: 임요한
        birthday:
          type: string
          title: 생년월일
          description: 생년월일
          example: '19940501'
        countryCode:
          type: string
          title: 국가
          description: 국가
          example: KR
        cityId:
          type: object
          title: 도시 id
          description: 도시 id
          example: '1835848'
        passportNumber:
          type: string
          title: 여권 번호
          description: 여권 번호
          example: m12345678
        passportExpireDate:
          type: string
          title: 여권 만료일
          description: 여권 만료일 (YYYY-MM-DD 형식)
          example: '2030-12-31'
        passportImageKey:
          type: string
          title: 여권 이미지 키
          description: 여권 이미지 키
          example: >-
            private/passport/9cfd74bb7e8280e15139d1e142c0f96ccf23e9bb684f20ea62d084f505fa140f
        profileImageKey:
          type: string
          title: 프로필 이미지 키
          description: 프로필 이미지 키
          example: >-
            private/profile/1005aa23b5e4f2ca0e448345741cefc35aaa0eed639673ec134de5898ddf18a5
        approvalId:
          type: object
          title: 승인유형
          description: 승인유형
          example: null
      required:
        - email
        - name
        - birthday
        - countryCode
        - cityId
        - passportNumber
        - passportImageKey
        - profileImageKey
        - approvalId
    FileUploadDto:
      type: object
      properties:
        file:
          type: string
          format: binary
          title: 파일
          description: 파일
      required:
        - file
    UpdateInfoDto:
      type: object
      properties:
        name:
          type: string
          title: 이름
          description: 이름
          example: 홍길동
        birthday:
          type: string
          title: 생년월일
          description: 생년월일
          example: '19900101'
        countryCode:
          type: string
          title: 국가
          description: 국가
          example: KR
        cityId:
          type: string
          title: 도시 id
          description: 도시 id
          example: '1835848'
        passportNumber:
          type: string
          title: 여권 번호
          description: 여권 번호
          example: '12345678'
        passportImageKey:
          type: string
          title: 여권 이미지 키
          description: 여권 이미지 키
          example: >-
            private/passport/c4da74d81d1414f7d8df9133dbfc6a686800c3a0993ee55e9deb9bf73a60362e
        profileImageKey:
          type: string
          title: 프로필 이미지 키
          description: 프로필 이미지 키
          example: >-
            private/profile/6d60d03bb9497e4478d33d1ba40d8e285beaada2a2e39f4388194fbb866d6662
      required:
        - name
        - birthday
        - countryCode
        - cityId
        - passportNumber
        - passportImageKey
        - profileImageKey
    ChangePasswordDto:
      type: object
      properties:
        password:
          type: string
          title: 현재 비밀번호
          description: 현재 비밀번호
          example: OldPass123!
        newPassword:
          type: string
          title: 새 비밀번호
          description: 새 비밀번호
          example: NewPass123!
        newPasswordCheck:
          type: string
          title: 새 비밀번호 확인
          description: 새 비밀번호 확인
          example: NewPass123!
      required:
        - password
        - newPassword
        - newPasswordCheck
    DeleteUserDto:
      type: object
      properties:
        email:
          type: string
          title: 이메일
          description: 이메일
          example: heuristic2022@gmail.com
      required:
        - email
    ResetPaswordDto:
      type: object
      properties:
        uuid:
          type: string
          title: UUID
          description: 이메잃 인증시 사용한 UUID
          example: 812204a0-2432-40e0-90cb-b1ad8019b9c1
        password:
          type: string
          title: 비밀번호
          description: 비밀번호
          example: '12345678'
        passwordCheck:
          type: string
          title: 비밀번호 확인
          description: 비밀번호 확인
          example: '12345678'
      required:
        - uuid
        - password
        - passwordCheck
    RefreshTokenDto:
      type: object
      properties:
        refreshToken:
          type: string
          title: 리프레시 토큰
          description: 리프레시 토큰
          example: eyJhbGciOiJIUzI1NiIsInR5
      required:
        - refreshToken
    AdditionalVerificationDto:
      type: object
      properties:
        name:
          type: string
          title: 이름
          description: 이름
          example: 임요한
        birthday:
          type: string
          title: 생년월일
          description: 생년월일
          example: '19940501'
        countryCode:
          type: string
          title: 국가
          description: 국가
          example: KR
        cityId:
          type: string
          title: 도시 id
          description: 도시 id
          example: '1835848'
        passportNumber:
          type: string
          title: 여권 번호
          description: 여권 번호
          example: '12345678'
        passportExpireDate:
          type: string
          title: 여권 만료일
          description: 여권 만료일 (YYYY-MM-DD 형식)
          example: '2030-12-31'
        passportImageKey:
          type: string
          title: 여권 이미지 키
          description: 여권 이미지 키
          example: >-
            private/passport/9cfd74bb7e8280e15139d1e142c0f96ccf23e9bb684f20ea62d084f505fa140f
        profileImageKey:
          type: string
          title: 프로필 이미지 키
          description: 프로필 이미지 키
          example: >-
            private/profile/1005aa23b5e4f2ca0e448345741cefc35aaa0eed639673ec134de5898ddf18a5
      required:
        - name
        - birthday
        - countryCode
        - cityId
        - passportNumber
        - passportImageKey
        - profileImageKey
    FcmTokenUpdateDto:
      type: object
      properties:
        fcmToken:
          type: string
          title: fcmToken
          description: fcmToken
          example: fcmToken
      required:
        - fcmToken
    PassportExpiryWarningDto:
      type: object
      properties:
        passportNumber:
          type: string
          title: passportNumber
          description: 여권 번호
          example: M12345678
        expiryDate:
          type: string
          title: expiryDate
          description: 만료일
          example: '2024-12-31'
        daysUntilExpiry:
          type: number
          title: daysUntilExpiry
          description: 만료까지 남은 일수
          example: 30
      required:
        - passportNumber
        - expiryDate
        - daysUntilExpiry
    PassportExpiredDto:
      type: object
      properties:
        passportNumber:
          type: string
          title: passportNumber
          description: 여권 번호
          example: M12345678
        expiryDate:
          type: string
          title: expiryDate
          description: 만료일
          example: '2024-12-31'
      required:
        - passportNumber
        - expiryDate
    AdminLoginDto:
      type: object
      properties:
        email:
          type: string
          title: 이메일
          description: 이메일
          example: hello@buttersoft.io
        password:
          type: string
          title: 비밀번호
          description: 비밀번호
          example: '12345678'
      required:
        - email
        - password
    AdminSignUpDto:
      type: object
      properties:
        email:
          type: string
          title: 이메일
          description: 이메일
          example: hello@buttersoft.io
        password:
          type: string
          title: 비밀번호
          description: 비밀번호
          example: '12345678'
        name:
          type: string
          title: 이름
          description: 이름
          example: 홍길동
      required:
        - email
        - password
        - name
    CreateAdminDto:
      type: object
      properties:
        email:
          type: string
          title: 이메일
          description: 관리자 이메일
          example: admin@example.com
        password:
          type: string
          title: 비밀번호
          description: 관리자 비밀번호
          example: password123
        name:
          type: string
          title: 이름
          description: 관리자 이름
          example: 관리자
        permission:
          type: number
          title: 권한
          description: '관리자 권한 (1: 루트, 2: 중간, 3: 일반)'
          example: 3
          enum:
            - 1
            - 2
            - 3
      required:
        - email
        - password
        - name
        - permission
    UpdateAdminPermissionDto:
      type: object
      properties:
        permission:
          type: number
          title: 권한
          description: '변경할 관리자 권한 (1: 루트, 2: 중간, 3: 일반)'
          example: 2
          enum:
            - 1
            - 2
            - 3
      required:
        - permission
    CreateReviewDto:
      type: object
      properties:
        content:
          type: string
          description: 내용
          example: 좋아요
      required:
        - content
    CreateSiteDto:
      type: object
      properties:
        name:
          type: string
          description: 이름
          example: 경복궁
        imageKey:
          type: string
          description: 이미지 키
          example: >-
            public/site/thumbnail/6563d4f02870c136e1ddb87820b51aed87974db5788b35eb831dc07a644fd087
        address:
          type: string
          description: 주소
          example: 서울특별시 종로구 사직로 161
        description:
          type: string
          description: 설명
          example: 조선 시대의 궁궐로, 서울특별시 종로구에 위치하고 있다.
        email:
          type: string
          description: 이메일
          example: site1@manager.com
        password:
          type: string
          description: 비밀번호
          example: '12345678'
        passwordCheck:
          type: string
          description: 비밀번호 확인
          example: '12345678'
      required:
        - name
        - imageKey
        - address
        - description
        - email
        - password
        - passwordCheck
    UpdateSiteDto:
      type: object
      properties:
        name:
          type: string
          description: 이름
          example: 경복궁
        imageKey:
          type: string
          description: 이미지 키
          example: >-
            public/site/thumbnail/6563d4f02870c136e1ddb87820b51aed87974db5788b35eb831dc07a644fd087
        address:
          type: string
          description: 주소
          example: 서울특별시 종로구 사직로 161
        description:
          type: string
          description: 설명
          example: 조선 시대의 궁궐로, 서울특별시 종로구에 위치하고 있다.
        email:
          type: string
          description: 이메일
          example: site1@manager.com
        password:
          type: string
          description: 비밀번호
          example: '12345678'
        passwordCheck:
          type: string
          description: 비밀번호 확인
          example: '12345678'
      required:
        - name
        - imageKey
        - address
        - description
        - email
        - password
        - passwordCheck
    UserVerificationDocumetDetailDto:
      type: object
      properties:
        documentId:
          format: int64
          type: integer
          title: 문서 ID
          description: 문서 ID
          example: '1'
      required:
        - documentId
    AddNewFaceDto:
      type: object
      properties:
        faceImage:
          type: string
          format: binary
          title: 얼굴 이미지
          description: 얼굴 이미지 파일
        collectionId:
          type: string
          title: 컬렉션 ID
          description: 컬렉션 ID
          example: '1234567890'
        userName:
          type: string
          title: 사용자 이름
          description: 사용자 이름
          example: 홍길동
      required:
        - faceImage
        - collectionId
        - userName
    ApproveUserDto:
      type: object
      properties:
        documentId:
          format: int64
          type: integer
          title: 문서 ID
          description: 문서 ID
          example: 1
      required:
        - documentId
    RejectUserDto:
      type: object
      properties:
        documentId:
          format: int64
          type: integer
          title: 문서 ID
          description: 문서 ID
          example: 1
        reason:
          type: string
          title: 사유
          description: 사유
          example: 사유
      required:
        - documentId
        - reason
    CreateDidDto:
      type: object
      properties:
        name:
          type: string
          description: 사용자 이름
          example: 김철수
        email:
          type: string
          description: 이메일
          example: user@example.com
        serviceEndpoint:
          type: string
          description: 서비스 엔드포인트 (선택사항)
          example: https://example.com/profile
      required:
        - name
        - email
    KakaoPaymentReadyDto:
      type: object
      properties:
        amount:
          type: number
          title: 결제 금액
          description: 결제할 금액 (원)
          example: 10000
        itemName:
          type: string
          title: 상품명
          description: 결제할 상품명
          example: 결제 예제
        quantity:
          type: number
          title: 수량
          description: 상품 수량
          example: 1
        userId:
          type: string
          title: 사용자 ID
          description: 결제를 요청하는 사용자 ID
          example: user123
      required:
        - amount
        - itemName
        - quantity
        - userId
    KakaoPaymentApproveDto:
      type: object
      properties:
        tid:
          type: string
          title: 결제 고유번호
          description: 카카오페이에서 발급한 결제 고유번호
          example: T1234567890123456789
        pgToken:
          type: string
          title: PG 토큰
          description: 결제 승인 요청에 필요한 토큰
          example: pg_token_1234567890
        userId:
          type: string
          title: 사용자 ID
          description: 결제를 승인하는 사용자 ID
          example: user123
      required:
        - tid
        - pgToken
        - userId
    KakaoMessageSendDto:
      type: object
      properties:
        tid:
          type: string
          title: 결제 고유번호
          description: 카카오페이에서 발급한 결제 고유번호
          example: T1234567890123456789
        userId:
          type: string
          title: 사용자 ID
          description: 결제한 사용자 ID
          example: user123
        amount:
          type: number
          title: 결제 금액
          description: 결제된 금액 (원)
          example: 10000
        itemName:
          type: string
          title: 상품명
          description: 결제한 상품명
          example: IDBLOCK 서비스 이용료
      required:
        - tid
        - userId
        - amount
        - itemName
    RegisterDeviceDto:
      type: object
      properties: {}
    TransactionResponseDto:
      type: object
      properties:
        id:
          format: int64
          type: integer
        blockNumber:
          type: string
        timeStamp:
          type: string
        hash:
          type: string
        nonce:
          type: string
        blockHash:
          type: string
        transactionIndex:
          type: string
        fromAddress:
          type: string
        toAddress:
          type: string
        value:
          type: string
        gas:
          type: string
        gasPrice:
          type: string
        isError:
          type: string
        txreceiptStatus:
          type: string
        input:
          type: string
        contractAddress:
          type: string
        cumulativeGasUsed:
          type: string
        gasUsed:
          type: string
        confirmations:
          type: string
        methodId:
          type: string
        functionName:
          type: string
        createdAt:
          type: string
          description: 생성일시
          example: '2025-06-23T08:18:24.275Z'
        updatedAt:
          type: string
          description: 수정일시
          example: '2025-06-23T08:18:24.275Z'
      required:
        - id
        - blockNumber
        - timeStamp
        - hash
        - fromAddress
        - createdAt
        - updatedAt
    TransactionListResponseDto:
      type: object
      properties:
        success:
          type: boolean
        data:
          type: array
          items:
            $ref: '#/components/schemas/TransactionResponseDto'
        total:
          type: number
        page:
          type: number
        limit:
          type: number
      required:
        - success
        - data
        - total
        - page
        - limit
    GetMultiContractStatsQueryDto:
      type: object
      properties:
        contractAddresses:
          description: 컨트랙트 주소 배열 (최대 10개)
          example:
            - '0x671645FC21615fdcAA332422D5603f1eF9752E03'
            - 0x123...
            - 0x456...
          default:
            - '0x671645FC21615fdcAA332422D5603f1eF9752E03'
            - '0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063'
            - '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174'
          type: array
          items:
            type: string
        useCache:
          type: boolean
          description: 캐시 사용 여부
          example: true
          default: true
      required:
        - contractAddresses
    ContractStatsResponseDto:
      type: object
      properties:
        contractAddress:
          type: string
        transactionCount:
          type: number
        error:
          type: string
      required:
        - contractAddress
        - transactionCount
    MultiContractStatsResponseDto:
      type: object
      properties:
        success:
          type: boolean
        data:
          type: array
          items:
            $ref: '#/components/schemas/ContractStatsResponseDto'
        totalTransactions:
          type: number
        fromCache:
          type: boolean
          description: 캐시에서 가져온 결과 여부
        responseTime:
          type: number
          description: 응답 시간 (ms)
      required:
        - success
        - data
        - totalTransactions
        - fromCache
        - responseTime
    TransactionDetailResponseDto:
      type: object
      properties:
        success:
          type: boolean
        data:
          $ref: '#/components/schemas/TransactionResponseDto'
      required:
        - success
        - data
    BlockResponseDto:
      type: object
      properties:
        id:
          format: int64
          type: integer
        number:
          type: string
        hash:
          type: string
        parentHash:
          type: string
        miner:
          type: string
        timestamp:
          type: string
        gasLimit:
          type: string
        gasUsed:
          type: string
        size:
          type: string
        createdAt:
          type: string
          description: 생성일시
          example: '2025-06-23T08:18:24.275Z'
        updatedAt:
          type: string
          description: 수정일시
          example: '2025-06-23T08:18:24.275Z'
      required:
        - id
        - number
        - hash
        - timestamp
        - createdAt
        - updatedAt
    BlockListResponseDto:
      type: object
      properties:
        success:
          type: boolean
        data:
          type: array
          items:
            $ref: '#/components/schemas/BlockResponseDto'
        total:
          type: number
        page:
          type: number
        limit:
          type: number
      required:
        - success
        - data
        - total
        - page
        - limit
    BlockDetailResponseDto:
      type: object
      properties:
        success:
          type: boolean
        data:
          $ref: '#/components/schemas/BlockResponseDto'
      required:
        - success
        - data
